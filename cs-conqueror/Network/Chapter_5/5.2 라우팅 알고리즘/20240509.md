# 5.2 라우팅 알고리즘

[5.2.1] 링크 상태(LS) 라우팅 알고리즘 </br>
[5.2.2] 거리 벡터(DV) 라우팅 알고리즘 </br>

</br>
</br>

### 라우팅 알고리즘의 목표
> 송신자부터 수신자까지 라우터의 네트워크를 통과하는 좋은 경로(최소 비용 경로)를 결정하는 것.
- 현실적으로 네트워크 정책과 같은 실제 문제가 고려된다.
  - ex) 'Y기관에 속해 있는 라우터 x는 Z기관이 소유한 네트워크가 보낸 패킷을 전달해서는 안된다.' 같은 규칙

</br>
</br>

### 그래프(Graph)
라우팅 문제를 나타내는데는 그래프가 사용된다.

<p align="center"><img width="400" alt="그래프" src="https://user-images.githubusercontent.com/86337233/213212557-7f4721cc-104d-4102-9c13-b4d45e4ae79d.png">

</br>
</br>

`G(N, E)`

- `N`
    - 노드(node)의 집합
    - 네트워크 계층 라우팅 상황에서 그래프상의 `노드`는 패킷 전달 결정이 이루어지는 지점인 **라우터**를 나타낸다.


- `E`
    - 에지(edge)의 집합
    - 네트워크 계층 라우팅 상황에서 그래프상의 `에지`는 **라우터들 간의 물리 링크**를 나타낸다.
    - 에지는 그 **비용**을 나타내는 값을 가진다.  
      (일반적으로 해당 링크의 물리적인 거리, 링크 속도, 링크와 관련된 금전 비용 등을 반영)
    - 집합 E에 포함된 어떤 에지 (x, y)에 대해 `c(x, y)`는 노드 x와 y 간의 비용을 의미한다.
    - 에지 (x, y)가 집합 E에 속하면, 노드 y는 노드 x의 <b>이웃(neighbor)</b>이라고 한다.


- 하나의 에지는 집합 N에 속하는 한 쌍의 노드로 표시된다.

<br/>

어떤 두 노드 x,y가 주어지면 일반적으로 두 노드 간에 많은 경로가 존재하고 각 경로는 비용을 갖는다.
- 이중 `최소 비용 경로(least-cost path)`는 하나일 수도 있고 여러 개일수도 있다.
- 만약 모든 에지가 같은 비용을 갖는다면 최소 비용 경로가 `최단 경로(shortest path)`가 된다.

</br>
</br>


## 라우팅 알고리즘의 분류 - 방식 1)
### 중앙 집중형 라우팅 알고리즘 (centralized routing algorithm)
> **네트워크 전체에 대한 완전한 정보를 가지고** 출발지와 목적지 사이의 최소 비용 경로를 계산한다.</br>
> 모든 노드 사이의 연결 상태와 링크 비용을 입력값으로 한다.
- 이처럼 전체 상태 정보를 갖는 알고리즘을 `링크 상태(link-state,LS) 알고리즘`이라고한다.

</br>

### 분산 라우팅 알고리즘 (decentralized routing algorithm)
> 반복된 계산과 이웃 노드와의 정보 교환을 통해 노드는 목적지 또는 목적지 집합까지의 최소 비용 경로를 계산한다. </br>
> 각 노드는 자신에게 직접 연결된 링크에 대한 비용 정보만을 가진다.
- 우리가 알아볼 분산 라우팅 알고리즘은 각 노드가 네트워크 내 다른 모든 노드까지 비용(거리)의 추정값을 벡터 형태로 유지한다. 이것을 `거리 벡터(distance-vector, DV) 알고리즘`이라고 한다.
  
</br>
</br>

## 라우팅 알고리즘의 분류 - 방식 2)
### 정적 라우팅 알고리즘(static routing algorithm)

사람이 직접 링크 비용을 수정하는 경우와 같은 종종 사람이 개입하는 상황 때문에 정적 라우팅 알고리즘에서 경로는 아주 느리게 변한다.

<br/>

### 동적 라우팅 알고리즘(dynamic routing algorithm)

네트워크 트래픽 부하(load)나 토폴로지 변화에 따라 라우팅 경로를 바꾼다.</br>
동적 알고리즘은 주기적으로, 혹은 토폴로지나 링크 비용의 변경에 직접적으로 응답하는 방식으로 수행된다.</br>
- 장점 : 네트워크 변화에 빠르게 대응한다.
- 단점 : 경로의 루프(loop)나 경로 진동(oscillation) 같은 문제에 취약하다.

</br>
</br>

## 라우팅 알고리즘의 분류 - 방식 3)
### 부하에 민감한 알고리즘(load-sensitive algorithm)
링크 비용은 **해당 링크의 현재 혼잡 수준을 나타내기 위해** 동적으로 변한다.</br>
현재 혼잡한 링크에 높은 비용을 부과한다면, 라우팅 알고리즘은 혼잡한 링크를 우회하는 경로를 택하는 경향을 보일 것이다.</br>
초기 ARPAnet 라우팅 알고리즘이 부하에 민감해서 많은 어려움이 있었다.

</br>

### 부하에 민감하지 않은 알고리즘(load-insensitive algorithm)
오늘날 인터넷 라우팅 알고리즘(RIP, OSPF, BGP 등)은 링크 비용이 현재(또는 가장 최근)의 혼잡을 반영하지 않기 때문에 부하에 민감하지 않다.

</br>
</br>
</br>


## 5.2.1 링크 상태(LS) 라우팅 알고리즘



