# 5.3 인터넷에서의 AS 내부 라우팅: OSPF

<br>

네트워크의 모든 라우터를 동일한 알고리즘으로 수행하는 네트워크 모델은 다음과 같은 문제가 존재
 - 라우터의 수가 증가함에 따라 라우팅 정보의 통신, 계산, 저장에 필요한 오버헤드가 엄청나게 증가
 - 조직마다 자신이 원하는 대로 네트워크를 운영하고 관리할 수 없음

<br>

## 자율 시스템(AS, autonomous system)
> 동일한 관리 제어하에 있는 라우터의 그룹
> AS 내부의 라우터들은 동일한 라우팅 알고리즘(AS 내부 라우팅 프로토콜)을 사용

<br>

## 개방형 최단 경로 우선(OSPF) 프로토콜
> 링크 상태 정보를 플러딩하고 다익스트라 최소 비용 경로 알고리즘을 사용하는 프로토콜
 - `플러딩` : 수신한 모든 패킷을 수신한 링크를 제외한 모든 출력 링크로 전송
<br>

### 특징
 - 링크의 가중치를 설정하면 최소 비용 경로를 결정
 - OSPF를 사용하는 라우터는 AS 내의 모든 라우터에게 라우팅 정보를 브로드캐스팅
 - 라우터는 링크 상태가 변경되거나 주기적으로(최소 30분에 한 번) 링크 상태를 브로드캐스팅
 - OSFP 프로토콜(89)에 의해 OSPF 메시지에 포함된 상태 정보가 전달

<br>

### 개선사항
 - 보안 : 인증을 통해 신뢰할 수 있는 라우터들만 AS 내부 OSPF 프로토콜에 참여
   * `단순 인증` : 동일한 패스워드가 모든 라우터에 사용
   * `MD5` : 전송 OSPF 패킷 내용에 비밀키를 첨부하고 해시를 계산, 수신 라우터는 설정된 비밀키로 해시를 계산하고 패킷의 해시값과 비교
 - 하나의 목적지에 동일 비용 경로가 여럿 존재하면 여러 경로를 사용 가능
 - 유니캐스트(하나의 라우터), 멀티캐스트(여러 라우터) 라우팅 통합 지원
 - 단일 AS 내에서의 계층 지원
   * AS내의 라우터는 같은 영역의 라우터들에게만 링크 상태를 브로드캐스트하고 AS내의 영역 경계 라우터가 영역 외부로 패킷 라우팅을 담당
   * AS내 모든 영역 경계 라우터를 포함하는 백본 영역이 목적지 영역의 영역 경계 라우터로 라우팅한 후 최종 목적지로 라우팅 
